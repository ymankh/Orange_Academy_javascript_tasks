<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Form</title>
  </head>
  <body>
    <h1>Display each group input as one card "using local storage"</h1>
    <form id="userForm">
      <label for="name">Name :</label>
      <input type="text" id="name" name="name" /><br /><br />

      <label for="age">Age :</label>
      <input type="number" id="age" name="age" /><br /><br />

      <label for="gender">Gender :</label>
      <select id="gender" name="gender">
        <option value="male">male</option>

        <option value="female">Female</option></select
      ><br /><br />

      <label for="birthdate">Birth Date :</label>
      <input
        type="date"
        id="birth-date"
        name="birth-date"
        min="1990-01-01"
        placeholder="dd.mm.yyyy"
      /><br /><br />

      <label for="image">Your Image :</label>
      <input type="text" id="image" name="image" /><br /><br />

      <label for="description">Description :</label>
      <input type="text" id="description" name="description" /><br /><br />

      <label for="major">Major & University :</label>
      <input type="text" id="major" name="major" /><br /><br />

      <label>Programming Language :</label><br />
      <input
        type="checkbox"
        id="html"
        name="programmingLanguage"
        value="HTML"
      />
      <label for="html">HTML</label>
      <input type="checkbox" id="css" name="programmingLanguage" value="CSS" />
      <label for="css">CSS</label>
      <input
        type="checkbox"
        id="js"
        name="programmingLanguage"
        value="JavaScript"
      />
      <label for="js">JS</label><br /><br />

      <label for="siblingsNumber">Siblings Number :</label>
      <input
        type="number"
        id="siblingsNumber"
        name="siblingsNumber"
      /><br /><br />

      <label for="siblingsDescription">Description of Siblings :</label>
      <input
        type="text"
        id="siblingsDescription"
        name="siblingsDescription"
      /><br /><br />

      <button type="submit" id="submit">Submit</button>
    </form>
    <script>
      let myForm = document.getElementById("userForm");
      myForm.addEventListener("submit", (event) => {
        event.preventDefault();
        let formData = new FormData(myForm);
        const data = { programmingLanguage: [] };
        formData.forEach((value, key) => {
          console.log(value);
          if (key === "programmingLanguage") data[key].push(value);
          else data[key] = value;
        });
        let allResponses = localStorage.allResponses;
        if (!allResponses) allResponses = [];
        else allResponses = JSON.parse(allResponses);
        allResponses.push(data);
        console.log(allResponses);
        localStorage.allResponses = JSON.stringify(allResponses);
      });
    </script>
  </body>
</html>
